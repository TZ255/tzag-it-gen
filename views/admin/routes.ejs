<section class="py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h5 mb-0">Admin â€¢ Routes</h1>
  </div>
  <div class="row g-3">
    <div class="col-lg-4">
      <div class="card sb-card"><div class="card-body">
        <h2 class="h6 mb-3">Add Route</h2>
        <form action="/admin/routes" method="post" class="sb-form">
          <div class="mb-2"><label class="form-label" for="name">Name</label><input id="name" name="name" class="form-control" required></div>
          <div class="mb-2"><label class="form-label" for="description">Description</label><textarea id="description" name="description" class="form-control" rows="2" required></textarea></div>
          <div class="row g-2 mb-2">
            <div class="col"><label class="form-label" for="origin">Origin</label><input id="origin" name="origin" class="form-control" placeholder="Arusha"></div>
            <div class="col"><label class="form-label" for="destination">Destination</label><input id="destination" name="destination" class="form-control" placeholder="Tarangire National Park"></div>
          </div>
          <div class="mb-2"><label class="form-label" for="image">Picture (image link)</label><input id="image" name="image" class="form-control" placeholder="https://example.com/photo.jpg"></div>
          <div class="row g-2 mb-2">
            <div class="col"><label class="form-label" for="day">Day</label><input id="day" name="day" type="number" class="form-control" value="1" min="1"></div>
            <div class="col"><label class="form-label" for="vehicle_fee">Vehicle Fee (USD)</label><input id="vehicle_fee" name="vehicle_fee" type="number" class="form-control" value="0" min="0"></div>
          </div>
          <div class="row g-2 mb-2">
            <div class="col"><label class="form-label" for="park_fee_adult">Park Fee Adult (USD)</label><input id="park_fee_adult" name="park_fee_adult" type="number" class="form-control" value="0" min="0"></div>
            <div class="col"><label class="form-label" for="park_fee_child">Park Fee Child (USD)</label><input id="park_fee_child" name="park_fee_child" type="number" class="form-control" value="0" min="0"></div>
          </div>
          <div class="row g-2 mb-3">
            <div class="col"><label class="form-label" for="transit_fee">Transit Fee (USD)</label><input id="transit_fee" name="transit_fee" type="number" class="form-control" value="0" min="0"></div>
          </div>
          <div class="d-flex justify-content-end"><button class="btn btn-primary" type="submit">Save</button></div>
        </form>
      </div></div>
    </div>
    <div class="col-lg-8">
      <div class="card sb-card"><div class="card-body">
        <h2 class="h6 mb-3">Routes List</h2>
        <div class="table-responsive">
          <table class="table table-hover align-middle">
            <thead><tr><th>Name</th><th>Description</th><th>Day</th><th class="w-25">Fees</th><th>Actions</th></tr></thead>
            <tbody>
              <% if (!routes || routes.length === 0) { %>
                <tr><td colspan="5" class="text-center text-muted">No routes yet.</td></tr>
              <% } else { %>
                <% routes.forEach(function(r){ %>
                  <tr>
                    <td><%= r.name %></td>
                    <td class="small"><%= r.description?.substring(0, 100) %></td>
                    <td><%= r.day %></td>
                    <td class="align-top w-25">
                      <div>Vehicle: USD <%= Number(r.vehicle_fee || 0).toLocaleString('en-US') %></div>
                      <% if (typeof r.park_fee_adult !== 'undefined') { %><div>Park A: USD <%= Number(r.park_fee_adult).toLocaleString('en-US') %></div><% } %>
                      <% if (typeof r.park_fee_child !== 'undefined') { %><div>Park C: USD <%= Number(r.park_fee_child).toLocaleString('en-US') %></div><% } %>
                      <% if (r.transit_fee) { %><div>Transit: USD <%= Number(r.transit_fee).toLocaleString('en-US') %></div><% } %>
                    </td>
                    <td class="text-nowrap">
                      <a class="btn btn-sm btn-outline-primary" href="/admin/routes/<%= r._id %>/edit">Edit</a>
                      <form action="/admin/routes/<%= r._id %>/delete" method="post" class="d-inline" onsubmit="return confirm('Delete this route?');">
                        <button class="btn btn-sm btn-outline-danger" type="submit">Delete</button>
                      </form>
                    </td>
                  </tr>
                <% }) %>
              <% } %>
            </tbody>
          </table>
        </div>
      </div></div>
    </div>
  </div>
</section>
